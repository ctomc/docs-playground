WildFly Testsuite Harness Developer Guide - Latest WildFly Documentation
========================================================================

[[wildfly-testsuite-harness-developer-guide]]
WildFly Testsuite Harness Developer Guide
-----------------------------------------

*Audience:* Whoever wants to change the testsuite harness

*JIRA*:  https://issues.jboss.org/browse/WFLY-576[WFLY-576]

[[testsuite-requirements]]
Testsuite requirements
~~~~~~~~~~~~~~~~~~~~~~

http://community.jboss.org/wiki/ASTestsuiteRequirements will probably be
merged here later.

[[adding-a-new-maven-plugin]]
Adding a new maven plugin
~~~~~~~~~~~~~~~~~~~~~~~~~

The plugin version needs to be specified in jboss-parent. See
https://github.com/jboss/jboss-parent-pom/blob/master/pom.xml#L65 .

[[shortened-maven-run-overview]]
Shortened Maven run overview
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

See
https://docs.jboss.org/author/display/AS71/Shortened+Maven+Run+Overview[Shortened
Maven Run Overview].

[[how-the-as-instance-is-built]]
How the AS instance is built
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

See
https://docs.jboss.org/author/display/AS71/How+the+JBoss+AS+instance+is+built+and+configured+for+testsuite+modules.[How
the JBoss AS instance is built and configured for testsuite modules.]

[[properties-and-their-propagation]]
Properties and their propagation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

﻿Propagated to tests through arquillian.xml: +
     `<property name="javaVmArguments">${server.jvm.args}</property>` +
TBD: https://issues.jboss.org/browse/ARQ-647

[[jboss-as-instance-dir]]
JBoss AS instance dir
^^^^^^^^^^^^^^^^^^^^^

*integration/pom.xml*

(currently nothing)

**-arquillian.xml*

[source,brush:,xml;,gutter:,false;]
----
<container qualifier="jboss" default="true">
    <configuration>
        <property name="jbossHome">${basedir}/target/jbossas</property>
----

[[server-jvm-arguments]]
Server JVM arguments
^^^^^^^^^^^^^^^^^^^^

[source,brush:,xml;,gutter:,false;]
----
<surefire.memory.args>-Xmx512m -XX:MaxPermSize=256m</surefire.memory.args>
    <surefire.jpda.args></surefire.jpda.args>
    <surefire.system.args>${surefire.memory.args} ${surefire.jpda.args}</surefire.system.args>
----

[[ip-settings]]
IP settings
^^^^^^^^^^^

* `${ip.server.stack` *}* - used in
`<systemPropertyVariables> / <server.jvm.args>` which is used in
`*-arquillian.xml`.

[[testsuite-directories]]
Testsuite directories
^^^^^^^^^^^^^^^^^^^^^

* `${jbossas.ts.integ.dir`}
* `${jbossas.ts.dir`}
* `${jbossas.project.dir`}

[[clustering-properties]]
Clustering properties
^^^^^^^^^^^^^^^^^^^^^

* node0
* node1
